<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>

<style>
    body {
        margin:0;
        font-family:'Poppins', sans-serif;
        background:#f8fafb;
    }

    /* Navbar */
    .navbar {
        background:#0f8b6d;
        padding:20px 40px;
        color:white;
        display:flex;
        justify-content:space-between;
        align-items:center;
    }
    .nav-links {
        list-style:none;
        display:flex;
    }
    .nav-links li { margin-left:25px; }
    .nav-links a {
        color:white;
        text-decoration:none;
        font-weight:500;
    }

    /* Page Title */
    h1 {
        font-size:38px;
        margin:40px;
        font-weight:700;
    }
    .sub {
        margin-left:40px;
        color:#666;
    }

    /* Category Container */
    #pricing-container {
        padding: 0 40px 40px 40px;
    }
    .category-box {
        width:90%;
        margin:30px auto;
        border-radius:18px;
        overflow:hidden;
        box-shadow:0 2px 10px rgba(0,0,0,0.1);
    }

    /* Category Header */
    .cat-header {
        padding:25px;
        color:white;
        font-size:22px;
        font-weight:600;
        display:flex;
        justify-content:space-between;
        align-items:center;
    }

    .edit-btn {
        background:rgba(255,255,255,0.3);
        padding:10px 14px;
        border-radius:10px;
        cursor:pointer;
    }

    /* Rate Section */
    .cat-body {
        background:white;
        padding:25px;
    }

    .rate-line {
        display:flex;
        justify-content:space-between;
        align-items:center;
        font-size:22px;
        font-weight:600;
        color:#0f3d2e;
    }

    .updated {
        margin-top:20px;
        color:#666;
        font-size:14px;
    }

</style>
</head>

<body>

<!-- Navbar -->
<nav class="navbar">
    <div class="logo">♻️ EcoPick Admin</div>
    <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="detect.html">Detect</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="admin.html">Admin</a></li>
    </ul>
</nav>

<h1>Admin Panel</h1>
<p class="sub">Manage scrap material rates from <code>prices.json</code> and view user data.</p>

<div id="pricing-container">
    <!-- Pricing cards will be generated here -->
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Fetch and display pricing data
        fetch('prices.json')
            .then(response => response.json())
            .then(prices => {
                const container = document.getElementById('pricing-container');
                container.innerHTML = ''; // Clear any existing content

                for (const key in prices) {
                    const item = prices[key];
                    const card = document.createElement('div');
                    card.className = 'category-box';
                    card.innerHTML = `
                        <div class="cat-header" style="background:${item.gradient};">
                            ${item.displayName}
                            <div class="edit-btn">✏️</div>
                        </div>
                        <div class="cat-body">
                            <div class="rate-line">
                                <span>Current Rate</span>
                                <span>₹${item.price.toFixed(2)}</span>
                            </div>
                            <p class="updated">Last updated: N/A (Loaded from file)</p>
                        </div>
                    `;
                    container.appendChild(card);
                }
            })
            .catch(error => {
                console.error("Error fetching or parsing prices.json:", error);
                const container = document.getElementById('pricing-container');
                container.innerHTML = '<p style="color:red; text-align:center;">Error loading pricing data. Please check the console.</p>';
            });
    });
</script>

</body>
</html>